let pokemonRepository=(()=>{let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150",a=t=>{"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("error")},l=document.getElementById("searchInput");l.addEventListener("input",()=>{o(l.value)});let o=t=>{let a=e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())),l=document.querySelector(".pokemon-list");l.innerHTML=[],a.forEach(e=>{pokemonRepository.addListItem(e)})},i=e=>{let t=document.querySelector(".pokemon-list"),a=document.createElement("li"),l=document.createElement("button");a.classList.add("list-group-item"),l.innerText=e.name,l.classList.add("btn"),l.classList.add("btn-pokemon"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#pokemon-modal"),a.classList.add("col-xl-3"),a.classList.add("col-lg-4"),a.classList.add("col-md-6"),a.appendChild(l),t.appendChild(a),l.addEventListener("click",()=>{s(e)})},s=e=>{d(e).then(()=>{n(e)})},n=e=>{let t=$(".modal-body"),a=$(".modal-title");a.empty(),t.empty();let l=$(`<h1>${e.name}</h1>`),o=$('<img class="modal-img">').attr("src",e.imageUrl),i=$(`<p><span style="font-weight: bold"># </span>${e.id}</p>`),s=$(`<p><span style="font-weight: bold">Height: </span>${e.height}</p>`),n=$(`<p><span style="font-weight: bold">Types: </span>${e.types.map(e=>e.type.name).join(" | ")}</p>`),p=$(`<p><span style="font-weight: bold">Abilities: </span>${e.abilities.map(e=>e.ability.name).join(" | ")}</p>`);a.append(l),t.append(o),t.append(i),t.append(s),t.append(n),t.append(p)},p=()=>fetch(t).then(e=>e.json()).then(e=>{e.results.forEach(e=>{let t={name:e.name,detailsUrl:e.url};a(t)})}).catch(e=>{console.error(e)}),d=e=>{let t=e.detailsUrl;return fetch(t).then(e=>e.json()).then(t=>{e.imageUrl=t.sprites.other.dream_world.front_default,e.height=t.height,e.types=t.types,e.id=t.id,e.abilities=t.abilities}).catch(e=>{console.error(e)})};return{add:a,getAll:()=>e,findByName:o,addListItem:i,loadList:p,loadDetails:d,showDetails:s,showModal:n}})();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});